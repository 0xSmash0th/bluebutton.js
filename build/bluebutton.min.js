/* BlueButton.js -- 0.0.13 */

!function(a,b){b.BlueButton=a;var c=function(){var a=function(a){return{el:a,template:f,tag:g,elsByTag:h,attr:i,val:j,isEmpty:k}},b=function(a){if(!a||"string"!=typeof a)return console.log("BB Error: XML data is not a string"),null;var b;if(window.DOMParser)parser=new DOMParser,b=parser.parseFromString(a,"text/xml");else try{b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)}catch(d){console.log("BB ActiveX Exception: Could not parse XML")}return b&&b.documentElement&&!b.getElementsByTagName("parsererror").length?c(b):(console.log("BB Error: Could not parse XML"),null)},c=function(b){if(b.length){for(var c=[],d=0;d<b.length;d++)c.push(a(b[d]));return c}return a(b)},d=function(){var a=document.createElement("empty");return c(a)},e=function(a,b,c,d){a=a.getElementsByTagName(b);for(var e=0;e<a.length;e++)if(a[e].getAttribute(c)===d)return a[e]},f=function(a){var b=e(this.el,"templateId","root",a);return b?c(b.parentNode):d()},g=function(a){var b=this.el.getElementsByTagName(a)[0];return b?c(b):d()},h=function(a){return c(this.el.getElementsByTagName(a))},i=function(a){return this.el?this.el.getAttribute(a):null},j=function(){if(!this.el)return null;try{return this.el.childNodes[0].nodeValue}catch(a){return null}},k=function(){return"empty"==this.el.tagName.toLowerCase()?!0:!1},l=function(a){if(!a||"string"!=typeof a)return console.log("Error: date is not a string"),null;var b=a.substr(0,4),c=parseInt(a.substr(4,2))-1,d=a.substr(6,2);return new Date(b,c,d)},m=function(a){var b;for(var c in a)b=a[c],null===b&&delete a[c],b instanceof Object&&(b=m(b));return a};return{parseXML:b,parseDate:l,trim:m}}(),d=function(){var a=function(a){var b={system:"AdministrativeGender",M:"male",F:"female",U:"undifferentiated"};return b[a]||null},b=function(a){var b={system:""};return b[a]||null},c=function(a){var b={system:"Race & Ethnicity - CDC","2186-5":"not hispanic or latino"};return b[a]||null},d=function(a){var b={system:"MaritalStatus",M:"not hispanic or latino"};return b[a]||null};return{gender:a,religion:b,raceAndEthnicity:c,maritalStatus:d}}(),e=function(){var a=c.parseDate,b=function(a,b){var c,g=[];switch(b){case"ccda":c=d(a);break;case"va_c32":c=e(a);break;case"json":return f(a)}for(var h=0;h<c.length;h++)g.push({date_range:{start:c[h].start_date,end:c[h].end_date},name:c[h].name,code:c[h].code,code_system:c[h].code_system,code_system_name:c[h].code_system_name,status:c[h].status,severity:c[h].severity,reaction:{name:c[h].reaction_name,code:c[h].reaction_code,code_system:c[h].reaction_code_system},reaction_type:{name:c[h].reaction_type_name,code:c[h].reaction_type_code,code_system:c[h].reaction_code_system,code_system_name:c[h].reaction_type_code_system_name},allergen:{name:c[h].allergen_name,code:c[h].allergen_code,code_system:c[h].allergen_code_system,code_system_name:c[h].allergen_code_system_name}});return g},d=function(b){var c,d,e,f=[];c=b.template("2.16.840.1.113883.10.20.22.2.6.1"),d=c.elsByTag("entry");for(var g=0;g<d.length;g++){e=d[g],c=e.tag("effectiveTime");var h=a(c.tag("low").attr("value")),i=a(c.tag("high").attr("value"));c=e.template("2.16.840.1.113883.10.20.22.4.7").tag("code");var j=c.attr("displayName"),k=c.attr("code"),l=c.attr("codeSystem"),m=c.attr("codeSystemName");c=e.template("2.16.840.1.113883.10.20.22.4.7").tag("value");var n=c.attr("displayName"),o=c.attr("code"),p=c.attr("codeSystem"),q=c.attr("codeSystemName");c=e.template("2.16.840.1.113883.10.20.22.4.9").tag("value");var r=c.attr("displayName"),s=c.attr("code"),t=c.attr("codeSystem");c=e.template("2.16.840.1.113883.10.20.22.4.8").tag("value");var u=c.attr("displayName");c=e.tag("participant").tag("code");var v=c.attr("displayName"),w=c.attr("code"),x=c.attr("codeSystem"),y=c.attr("codeSystemName");c=e.template("2.16.840.1.113883.10.20.22.4.28").tag("value"),c.attr("displayName"),f.push({name:j,start_date:h,end_date:i,code:k,code_system:l,code_system_name:m,reaction_type_name:n,reaction_type_code:o,reaction_type_code_system:p,reaction_type_code_system_name:q,reaction_name:r,reaction_code:s,reaction_code_system:t,severity:u,allergen_name:v,allergen_code:w,allergen_code_system:x,allergen_code_system_name:y})}return f},e=function(){},f=function(){return{}};return{process:b}}(),f=function(){var a=c.parseDate,b=function(a,b){var c;switch(b){case"ccda":c=e(a);break;case"va_c32":c=f(a);break;case"json":return g(a)}return{name:{prefix:c.prefix,given:c.given,family:c.family},dob:c.dob,gender:c.gender,marital_status:c.marital_status,address:{street:c.street,city:c.city,state:c.state,zip:c.zip,country:c.country},phone:{home:c.home,work:c.work,mobile:c.mobile},email:c.email,language:c.language,race:c.race,ethnicity:c.ethnicity,religion:c.religion,birthplace:{state:c.birthplace_state,zip:c.birthplace_zip,country:c.birthplace_country},guardian:{name:{given:c.guardian_given,family:c.guardian_family},relationship:c.guardian_relationship,address:{street:c.guardian_street,city:c.guardian_city,state:c.guardian_state,zip:c.guardian_zip,country:c.guardian_country},phone:{home:c.guardian_home}},provider:{organization:c.provider_organization,phone:c.provider_phone,address:{street:c.provider_street,city:c.provider_city,state:c.provider_state,zip:c.provider_zip,country:c.provider_country}}}},e=function(b){var c,e,f,g={};c=b.template("2.16.840.1.113883.10.20.22.1.1"),f=c.tag("patientRole"),c=f.tag("patient").tag("name"),g.prefix=c.tag("prefix").val(),e=c.elsByTag("given"),g.given=[];for(var h=0;h<e.length;h++)g.given.push(e[h].val());g.family=c.tag("family").val(),c=f.tag("patient"),g.dob=a(c.tag("birthTime").attr("value")),g.gender=d.gender(c.tag("administrativeGenderCode").attr("code")),g.marital_status=c.tag("maritalStatusCode").attr("displayName"),c=f.tag("addr"),e=c.elsByTag("streetAddressLine"),g.street=[];for(var h=0;h<e.length;h++)g.street.push(e[h].val());g.city=c.tag("city").val(),g.state=c.tag("state").val(),g.zip=c.tag("postalCode").val(),g.country=c.tag("country").val(),c=f.tag("telecom"),g.home=c.attr("value"),g.work=null,g.mobile=null,g.email=null,g.language=f.tag("languageCommunication").tag("languageCode").attr("code"),g.race=f.tag("raceCode").attr("displayName"),g.ethnicity=f.tag("ethnicGroupCode").attr("code"),g.religion=f.tag("religiousAffiliationCode").attr("code"),c=f.tag("birthplace"),g.birthplace_state=c.tag("state").val(),g.birthplace_zip=c.tag("postalCode").val(),g.birthplace_country=c.tag("country").val(),c=f.tag("guardian"),g.guardian_relationship=c.tag("code").attr("displayName"),g.guardian_home=c.tag("telecom").attr("value"),c=c.tag("guardianPerson"),e=c.elsByTag("given"),g.guardian_given=[];for(var h=0;h<e.length;h++)g.guardian_given.push(e[h].val());g.guardian_family=c.tag("family").val(),c=f.tag("guardian").tag("addr"),e=c.elsByTag("streetAddressLine"),g.guardian_street=[];for(var h=0;h<e.length;h++)g.guardian_street.push(e[h].val());g.guardian_city=c.tag("city").val(),g.guardian_state=c.tag("state").val(),g.guardian_zip=c.tag("postalCode").val(),g.guardian_country=c.tag("country").val(),c=f.tag("providerOrganization"),g.provider_organization=c.tag("name").val(),g.provider_phone=c.tag("telecom").attr("value"),e=c.elsByTag("streetAddressLine"),g.provider_street=[];for(var h=0;h<e.length;h++)g.provider_street.push(e[h].val());return g.provider_city=c.tag("city").val(),g.provider_state=c.tag("state").val(),g.provider_zip=c.tag("postalCode").val(),g.provider_country=c.tag("country").val(),g},f=function(){},g=function(){return{}};return{process:b}}(),g=function(){var a=c.parseDate,b=function(a,b){var c,g=[];switch(b){case"ccda":c=d(a);break;case"va_c32":c=e(a);break;case"json":return f(a)}for(var h=0;h<c.length;h++)g.push({date:c[h].date,name:c[h].name,code:c[h].code,code_system:c[h].code_system,code_system_name:c[h].code_system_name,code_system_version:c[h].code_system_version,finding:{name:c[h].finding_name,code:c[h].finding_code,code_system:c[h].finding_code_system},translation:{name:c[h].translation_name,code:c[h].translation_code,code_system:c[h].translation_code_system,code_system_name:c[h].translation_code_system_name},performer:{name:c[h].performer_name,code:c[h].performer_code,code_system:c[h].performer_code_system,code_system_name:c[h].performer_code_system_name},location:{organization:c[h].organization,street:c[h].street,city:c[h].city,state:c[h].state,zip:c[h].zip,country:c[h].country}});return g},d=function(b){var c,d,e,f,g=[];c=b.template("2.16.840.1.113883.10.20.22.2.22"),c.isEmpty()&&(c=b.template("2.16.840.1.113883.10.20.22.2.22.1")),e=c.elsByTag("entry");for(var h=0;h<e.length;h++){f=e[h];var i=a(f.tag("effectiveTime").attr("value"));c=f.tag("code");var j=c.attr("displayName"),k=c.attr("code"),l=c.attr("codeSystem"),m=c.attr("codeSystemName"),n=c.attr("codeSystemVersion");c=f.tag("value");var o=c.attr("displayName"),p=c.attr("code"),q=c.attr("codeSystem");c=f.tag("translation");var r=c.attr("displayName"),s=c.attr("code"),t=c.attr("codeSystem"),u=c.attr("codeSystemName");c=f.tag("performer").tag("code");var v=c.attr("displayName"),w=(c.attr("code"),c.attr("codeSystem")),x=c.attr("codeSystemName");c=f.tag("participant");var y=c.tag("code").attr("displayName");d=c.elsByTag("streetAddressLine"),street=[];for(var z=0;z<d.length;z++)street.push(d[z].val());var A=c.tag("city").val(),B=c.tag("state").val(),C=c.tag("postalCode").val(),D=c.tag("country").val();g.push({date:i,name:j,code:k,code_system:l,code_system_name:m,code_system_version:n,finding_name:o,finding_code:p,finding_code_system:q,translation_name:r,translation_code:s,translation_code_system:t,translation_code_system_name:u,performer_name:v,performer_code_system:w,performer_code_system_name:x,organization:y,street:street,city:A,state:B,zip:C,country:D})}return g},e=function(){},f=function(){return{}};return{process:b}}(),h=function(){var a=c.parseDate,b=function(a,b){var c,g=[];switch(b){case"ccda":c=d(a);break;case"va_c32":c=e(a);break;case"json":return f(a)}for(var h=0;h<c.length;h++)g.push({date:c[h].date,product:{name:c[h].product_name,code:c[h].product_code,code_system:c[h].product_code_system,code_system_name:c[h].product_code_system_name,translation:{name:c[h].translation_name,code:c[h].translation_code,code_system:c[h].translation_code_system,code_system_name:c[h].translation_code_system_name}},route:{name:c[h].route_name,code:c[h].route_code,code_system:c[h].route_code_system,code_system_name:c[h].route_code_system_name},instructions:c[h].instructions_text,education_type:{name:c[h].education_name,code:c[h].education_code,code_system:c[h].education_code_system}});return g},d=function(b){var c,d,e,f=[];c=b.template("2.16.840.1.113883.10.20.22.2.2.1"),c.isEmpty()&&(c=b.template("2.16.840.1.113883.10.20.22.2.2")),d=c.elsByTag("entry");for(var g=0;g<d.length;g++){e=d[g],c=e.tag("effectiveTime");var h=a(c.attr("value"));c=e.template("2.16.840.1.113883.10.20.22.4.54").tag("code");var i=c.attr("displayName"),j=c.attr("code"),k=c.attr("codeSystem"),l=c.attr("codeSystemName");c=e.template("2.16.840.1.113883.10.20.22.4.54").tag("translation");var m=c.attr("displayName"),n=c.attr("code"),o=c.attr("codeSystem"),p=c.attr("codeSystemName");c=e.tag("routeCode");var q=c.attr("displayName"),r=c.attr("code"),s=c.attr("codeSystem"),t=c.attr("codeSystemName");c=e.template("2.16.840.1.113883.10.20.22.4.20");var u=c.tag("text").val();c=c.tag("code");var v=c.attr("displayName"),w=c.attr("code"),x=c.attr("codeSystem");f.push({date:h,product_name:i,product_code:j,product_code_system:k,product_code_system_name:l,translation_name:m,translation_code:n,translation_code_system:o,translation_code_system_name:p,route_name:q,route_code:r,route_code_system:s,route_code_system_name:t,instructions_text:u,education_name:v,education_code:w,education_code_system:x})}return f},e=function(){},f=function(){return{}};return{process:b}}(),i=function(){var a=c.parseDate,b=function(a,b){var c,g=[];switch(b){case"ccda":c=d(a);break;case"va_c32":c=e(a);break;case"json":return f(a)}for(var h=0;h<c.length;h++){for(var i=c[h],j={name:i.name,code:i.code},k=[],l=0;l<i.results.length;l++){var m=i.results[l];k.push({date:m.date,name:m.name,value:m.value,unit:m.unit,code:m.code})}j.results=k,g.push(j)}return g},d=function(b){var c,d,e,f,g,h,i=[];d=b.template("2.16.840.1.113883.10.20.22.2.3.1"),e=d.elsByTag("entry");for(var j=0;j<e.length;j++){f=e[j],d=f.tag("code");var k=d.attr("displayName"),l=d.attr("code"),g=f.elsByTag("component");c=[];for(var m=0;m<g.length;m++){h=g[m];var n=a(h.tag("effectiveTime").attr("value"));d=h.tag("code");var o=d.attr("displayName"),p=d.attr("code"),d=h.tag("value"),q=parseInt(d.attr("value")),r=d.attr("unit");c.push({date:n,name:o,value:q,unit:r,code:p})}i.push({name:k,code:l,results:c})}return i},e=function(){},f=function(){return{}};return{process:b}}(),j=function(){var a=c.parseDate,b=function(a,b){var c,g=[];switch(b){case"ccda":c=d(a);break;case"va_c32":c=e(a);break;case"json":return f(a)}for(var h=0;h<c.length;h++)g.push({date_range:{start:c[h].start_date,end:c[h].end_date},product:{name:c[h].product_name,code:c[h].product_code,code_system:c[h].product_code_system,translation:{name:c[h].translation_name,code:c[h].translation_code,code_system:c[h].translation_code_system,code_system_name:c[h].translation_code_system_name}},dose_quantity:{value:c[h].dose_value,unit:c[h].dose_unit},rate_quantity:{value:c[h].rate_quantity_value,unit:c[h].rate_quantity_unit},precondition:{name:c[h].precondition_name,code:c[h].precondition_code,code_system:c[h].precondition_code_system},reason:{name:c[h].reason_name,code:c[h].reason_code,code_system:c[h].reason_code_system},route:{name:c[h].route_name,code:c[h].route_code,code_system:c[h].route_code_system,code_system_name:c[h].route_code_system_name},vehicle:{name:c[h].vehicle_name,code:c[h].vehicle_code,code_system:c[h].vehicle_code_system,code_system_name:c[h].vehicle_code_system_name},administration:{name:c[h].administration_name,code:c[h].administration_code,code_system:c[h].administration_code_system,code_system_name:c[h].administration_code_system_name},prescriber:{organization:c[h].prescriber_organization,person:c[h].prescriber_person}});return g},d=function(b){var c,d,e,f=[];c=b.template("2.16.840.1.113883.10.20.22.2.1.1"),d=c.elsByTag("entry");for(var g=0;g<d.length;g++){e=d[g],c=e.tag("effectiveTime");var h=a(c.tag("low").attr("value")),i=a(c.tag("high").attr("value"));c=e.tag("manufacturedProduct").tag("code");var j=c.attr("displayName"),k=c.attr("code"),l=c.attr("codeSystem");c=e.tag("manufacturedProduct").tag("translation");var m=c.attr("displayName"),n=c.attr("code"),o=c.attr("codeSystem"),p=c.attr("codeSystemName");c=e.tag("doseQuantity");var q=c.attr("value"),r=c.attr("unit");c=e.tag("rateQuantity");var s=c.attr("value"),t=c.attr("unit");c=e.tag("precondition").tag("value");var u=c.attr("displayName"),v=c.attr("code"),w=c.attr("codeSystem"),c=e.template("2.16.840.1.113883.10.20.22.4.19").tag("value"),x=c.attr("displayName"),y=c.attr("code"),z=c.attr("codeSystem");c=e.tag("routeCode");var A=c.attr("displayName"),B=c.attr("code"),C=c.attr("codeSystem"),D=c.attr("codeSystemName");c=e.tag("participant").tag("code");var E=c.attr("displayName"),F=c.attr("code"),G=c.attr("codeSystem"),H=c.attr("codeSystemName");c=e.tag("administrationUnitCode");var I=c.attr("displayName"),J=c.attr("code"),K=c.attr("codeSystem"),L=c.attr("codeSystemName");c=e.tag("performer");var M=c.tag("name").val(),N=null;f.push({start_date:h,end_date:i,product_name:j,product_code:k,product_code_system:l,translation_name:m,translation_code:n,translation_code_system:o,translation_code_system_name:p,dose_value:q,dose_unit:r,rate_quantity_value:s,rate_quantity_unit:t,precondition_name:u,precondition_code:v,precondition_code_system:w,reason_name:x,reason_code:y,reason_code_system:z,route_name:A,route_code:B,route_code_system:C,route_code_system_name:D,vehicle_name:E,vehicle_code:F,vehicle_code_system:G,vehicle_code_system_name:H,administration_name:I,administration_code:J,administration_code_system:K,administration_code_system_name:L,prescriber_organization:M,prescriber_person:N})}return f},e=function(){},f=function(){return{}};return{process:b}}(),k=function(){var a=c.parseDate,b=function(a,b){var c,g=[];switch(b){case"ccda":c=d(a);break;case"va_c32":c=e(a);break;case"json":return f(a)}for(var h=0;h<c.length;h++)g.push({date_range:{start:c[h].start_date,end:c[h].end_date},name:c[h].name,status:c[h].status,age:c[h].age,code:c[h].code,code_system:c[h].code_system});return g},d=function(b){var c,d,e,f=[];c=b.template("2.16.840.1.113883.10.20.22.2.5.1"),c.isEmpty()&&(c=b.template("2.16.840.1.113883.10.20.22.2.5")),d=c.elsByTag("entry");for(var g=0;g<d.length;g++){e=d[g],c=e.tag("effectiveTime");var h=a(c.tag("low").attr("value")),i=a(c.tag("high").attr("value"));c=e.template("2.16.840.1.113883.10.20.22.4.4").tag("code");var j=c.attr("displayName"),k=c.attr("code"),l=c.attr("codeSystem");c=e.template("2.16.840.1.113883.10.20.22.4.6");var m=c.tag("value").attr("displayName");c=e.template("2.16.840.1.113883.10.20.22.4.31");var n=parseInt(c.tag("value").attr("value"));f.push({start_date:h,end_date:i,name:j,code:k,code_system:l,status:m,age:n})}return f},e=function(){},f=function(){return{}};return{process:b}}(),l=function(){var a=c.parseDate,b=function(a,b){var c,g=[];switch(b){case"ccda":c=d(a);break;case"va_c32":c=e(a);break;case"json":return f(a)}for(var h=0;h<c.length;h++)g.push({date:c[h].date,name:c[h].name,code:c[h].code,code_system:c[h].code_system,specimen:{name:c[h].specimen_name,code:c[h].specimen_code,code_system:c[h].specimen_code_system},performer:{organization:c[h].organization,street:c[h].street,city:c[h].city,state:c[h].state,zip:c[h].zip,country:c[h].country,phone:c[h].phone},device:{name:c[h].device_name,code:c[h].device_code,code_system:c[h].device_code_system}});return g},d=function(b){var c,d,e,f,g=[];c=b.template("2.16.840.1.113883.10.20.22.2.7.1"),c.isEmpty()&&(c=b.template("2.16.840.1.113883.10.20.22.2.7")),e=c.elsByTag("entry");for(var h=0;h<e.length;h++){f=e[h],c=f.tag("effectiveTime");var i=a(c.attr("value"));c=f.tag("code");var j=c.attr("displayName"),k=c.attr("code"),l=c.attr("codeSystem"),m=null,n=null,o=null;c=f.tag("performer").tag("addr");var p=c.tag("name").val(),q=c.tag("telecom").attr("value");d=c.elsByTag("streetAddressLine"),street=[];for(var r=0;r<d.length;r++)street.push(d[r].val());var s=c.tag("city").val(),t=c.tag("state").val(),u=c.tag("postalCode").val(),v=c.tag("country").val();c=f.tag("participant").tag("code");var w=c.attr("displayName"),x=c.attr("code"),y=c.attr("codeSystem");g.push({date:i,name:j,code:k,code_system:l,specimen_name:m,specimen_code:n,specimen_code_system:o,organization:p,phone:q,street:street,city:s,state:t,zip:u,country:v,device_name:w,device_code:x,device_code_system:y})}return g},e=function(){},f=function(){return{}};return{process:b}}(),m=function(){var a=c.parseDate,b=function(a,b){var c,g=[];switch(b){case"ccda":c=d(a);break;case"va_c32":c=e(a);break;case"json":return f(a)}for(var h=0;h<c.length;h++){for(var i=c[h],j={date:i.date},k=[],l=0;l<i.results.length;l++){var m=i.results[l];k.push({name:m.name,code:m.code,value:m.value,unit:m.unit})}j.results=k,g.push(j)}return g},d=function(b){var c,d,e,f,g,h,i=[];d=b.template("2.16.840.1.113883.10.20.22.2.4.1"),e=d.elsByTag("entry");for(var j=0;j<e.length;j++){f=e[j],d=f.tag("effectiveTime");var k=a(d.attr("value"));g=f.elsByTag("component"),c=[];for(var l=0;l<g.length;l++){h=g[l],d=h.tag("code");var m=d.attr("displayName"),n=d.attr("code"),d=h.tag("value"),o=parseInt(d.attr("value")),p=d.attr("unit");c.push({name:m,code:n,value:o,unit:p})}i.push({date:k,results:c})}return i},e=function(){},f=function(){return{}};return{process:b}}(),n=function(a){var b=null,d="",n={},o=function(a){for(var b=0;b<a.length;b++)a[b].json=function(){return JSON.stringify(this,null,2)}},p=function(){return n.document},q=function(){return n.allergies},r=function(){return n.demographics},s=function(){return n.encounters},t=function(){return n.immunizations},u=function(){return n.labs},v=function(){return n.medications},w=function(){return n.problems},x=function(){return n.procedures},y=function(){return n.vitals};if(a=a.replace(/^\s+|\s+$/g,""),"<?xml"==a.substr(0,5))b=c.parseXML(a),d=b.template("1.3.6.1.4.1.19376.1.5.3.1.1.1").isEmpty()?"ccda":"va_c32",n.document={type:d},n.allergies=e.process(b,d),n.demographics=f.process(b,d),n.encounters=g.process(b,d),n.immunizations=h.process(b,d),n.labs=i.process(b,d),n.medications=j.process(b,d),n.problems=k.process(b,d),n.procedures=l.process(b,d),n.vitals=m.process(b,d),o([n,n.document,n.allergies,n.demographics,n.encounters,n.immunizations,n.labs,n.medications,n.problems,n.procedures,n.vitals]);else{d="json";try{var z=JSON.parse(a)}catch(A){console.log("BB Exception: Could not parse JSON")}n.document={type:d},n.allergies=e.process(z,d),n.demographics=f.process(z,d),n.encounters=g.process(z,d),n.immunizations=h.process(z,d),n.labs=i.process(z,d),n.medications=j.process(z,d),n.problems=k.process(z,d),n.procedures=l.process(z,d),n.vitals=m.process(z,d)}return{data:n,xmlDOM:b,document:p,allergies:q,demographics:r,encounters:s,immunizations:t,labs:u,medications:v,problems:w,procedures:x,vitals:y}};window.BlueButton=n}({},function(){return this}());